<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>BTS – Renouvellement d’abonnement</title>

  <!-- Styles génériques du plan + spécifiques renouvellement -->
  <link rel="stylesheet" href="/public/css/plan.css">
  <link rel="stylesheet" href="/public/css/renew.css">
</head>
<body>
  <header class="page-header">
    <h1>Renouvellement d’abonnement</h1>
    <p id="sub-info" class="muted"></p>
  </header>

  <section class="legend">
    <span><span class="dot dot-available"></span>Disponible</span>
    <span><span class="dot dot-provisioned"></span>Provisionnée (pour vous)</span>
    <span><span class="dot dot-held"></span>En cours (panier)</span>
    <span><span class="dot dot-booked"></span>Réservée</span>
  </section>

  <main class="layout">
    <section class="map-panel">
      <!-- ⚠️ Idéalement, remplace ce SVG inline par ton vrai plan.
           Si tu as un fichier /public/svg/arena.svg :
           <object id="arena-obj" type="image/svg+xml" data="/public/svg/arena.svg"></object>
           et dans renew.js on injectera les états après chargement de l'objet.
           Pour l’exemple, on garde 3 “sièges” A1-001..003 :


      <svg id="arena-map" viewBox="0 0 400 220" aria-label="Plan de la patinoire">
        <rect x="10" y="10" width="380" height="200" rx="8" fill="#f7f7f7" stroke="#e0e0e0"/>
        <g>
          <rect data-seat-id="A1-001" class="seat" x="60" y="80" width="18" height="18" rx="2"/>
          <rect data-seat-id="A1-002" class="seat" x="100" y="80" width="18" height="18" rx="2"/>
          <rect data-seat-id="A1-003" class="seat" x="140" y="80" width="18" height="18" rx="2"/>
        </g>
      </svg>
     -->
<object id="arena-obj" type="image/svg+xml" data="/public/venues/patinoire-blagnac/plan.svg" aria-label="Plan de la patinoire" style="width:100%;height:auto;border:1px solid #e5e7eb;border-radius:8px;"></object>
      <p class="hint">Cliquez vos places N-1 pour les renouveler. Les places non éligibles sont bloquées.</p>
    </section>

    <aside class="side-panel">
      <h2>Votre sélection</h2>
      <div id="selection-list" class="selection-list empty">
        <p class="muted">Aucune place sélectionnée.</p>
      </div>

      <form id="renew-form" class="renew-form">
        <fieldset>
          <legend>Coordonnées payeur</legend>
          <div class="grid">
            <label>Prénom
              <input type="text" id="buyer-first" autocomplete="given-name" />
            </label>
            <label>Nom
              <input type="text" id="buyer-last" autocomplete="family-name" />
            </label>
            <label>Email
              <input type="email" id="buyer-email" autocomplete="email" />
            </label>
          </div>
        </fieldset>

        <fieldset>
          <legend>Règlement</legend>
          <label>Nombre d’échéances
            <select id="installments">
              <option value="1" selected>1 fois</option>
              <option value="2">2 fois</option>
              <option value="3">3 fois</option>
            </select>
          </label>
        </fieldset>

        <div class="actions">
          <button id="btn-submit" type="submit" disabled>Continuer au paiement</button>
          <div id="form-msg" class="form-msg" role="status" aria-live="polite"></div>
        </div>
      </form>
    </aside>
  </main>

  <script src="/views/renew/renew.js"></script>
</body>
</html>
